<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üßü Zombie Rush</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Creepster&family=Bangers&family=Press+Start+2P&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Intro Screen: Video + Splash -->
    <div class="intro-screen" id="intro-screen">
        <!-- Video Phase -->
        <div class="intro-video-container" id="intro-video-container">
            <video class="intro-video" id="intro-video" autoplay muted playsinline>
                <source src="assets/Generating_Zombie_Animations.mp4" type="video/mp4">
            </video>
            <button class="skip-video-btn" id="skip-video-btn">Skip</button>
        </div>
        
        <!-- Splash Phase (hidden initially) -->
        <div class="splash-screen hidden" id="splash-screen">
            <div class="splash-content">
                <div class="splash-logo">
                    <span class="splash-zombie-icon">üßü</span>
                    <h1 class="splash-title">ZOMBIE RUSH</h1>
                    <div class="splash-subtitle">SURVIVE THE HORDE</div>
                </div>
                <button class="play-btn" id="play-btn">
                    <span class="play-icon">‚ñ∂</span>
                    <span class="play-text">PLAY</span>
                </button>
                <div class="splash-hint">Click to start the rush!</div>
            </div>
        </div>
    </div>

    <div class="game-container hidden" id="game-container">
        <!-- Header -->
        <header class="game-header">
            <h1 class="game-title">ZOMBIE RUSH</h1>
            <div class="header-controls">
                <button class="music-toggle" id="music-toggle" title="Toggle Music">
                    <span class="music-icon" id="music-icon">üîá</span>
                    <span class="music-label" id="music-label">Music Off</span>
                </button>
                <div class="balance-display">
                    <span class="coin-icon">üí∞</span>
                    <span class="balance-amount">$<span id="balance">1000.00</span></span>
                </div>
            </div>
        </header>

        <!-- Bet Amount Selector -->
        <div class="bet-selector-bar">
            <div class="bet-selector-label">
                <span class="bet-label-icon">üí∞</span>
                <span class="bet-label-text">BET AMOUNT</span>
            </div>
            <div class="bet-presets">
                <button class="bet-preset" data-amount="5">$5</button>
                <button class="bet-preset" data-amount="10">$10</button>
                <button class="bet-preset active" data-amount="25">$25</button>
                <button class="bet-preset" data-amount="50">$50</button>
                <button class="bet-preset" data-amount="100">$100</button>
            </div>
            <div class="bet-custom">
                <span class="bet-custom-label">Custom:</span>
                <div class="bet-custom-input-wrapper">
                    <span class="bet-currency">$</span>
                    <input type="number" class="bet-custom-input" id="bet-custom-input" min="1" max="1000" placeholder="Enter">
                </div>
                <button class="bet-custom-set" id="bet-custom-set">SET</button>
            </div>
            <div class="bet-current">
                <span class="bet-current-label">Current Bet:</span>
                <span class="bet-current-amount" id="bet-current-amount">$25</span>
            </div>
        </div>

        <!-- Mode Selection Tabs -->
        <div class="mode-tabs">
            <button class="mode-tab" data-mode="single">Single Lane</button>
            <button class="mode-tab" data-mode="double">Double Lane</button>
            <button class="mode-tab active" data-mode="triple">Triple Lane</button>
            <div id="wave-announcement" class="wave-announcement"></div>
        </div>

        <!-- Game Lanes -->
        <div class="lanes-container">
            <!-- Safe Lane -->
            <div class="lane" data-lane="safe">
                <div class="lane-background safe-bg"></div>
                <div class="bet-badge" id="bet-badge-safe">BET: $10</div>
                <div class="lane-content">
                    <div class="lane-header">
                        <span class="lane-label safe-label" id="lane-label-safe">üå± SAFE</span>
                        <span class="lane-info" id="lane-info-safe">Max 4x</span>
                    </div>
                    <div class="game-area" id="game-area-safe">
                        <img src="assets/plant.svg" class="plant" alt="Plant">
                        <div class="track">
                            <div class="multiplier-display">
                                <span class="multiplier" id="multiplier-safe">‚Äî</span>
                            </div>
                        </div>
                        <div class="zombie-container" id="zombie-container-safe">
                            <img src="assets/zombie.svg" class="zombie hidden" id="zombie-safe" alt="Zombie">
                            <img src="assets/explosion.svg" class="explosion" id="explosion-safe" alt="Explosion">
                        </div>
                    </div>
                    <div class="lane-status">
                        <div class="potential-win" id="potential-safe"></div>
                        <div class="bet-prompt" id="bet-prompt-safe">
                            <span class="bet-icon">üí∞</span>
                            <span>CLICK TO BET</span>
                            <span class="bet-amount-prompt">$10</span>
                        </div>
                        <button class="cashout-btn" id="cashout-btn-safe">
                            <span class="cashout-amount" id="cashout-amount-safe">$0.00</span>
                            <span class="cashout-label">CLICK TO CASH OUT</span>
                        </button>
                        <div class="no-bet-msg" id="no-bet-msg-safe">NO BET PLACED</div>
                    </div>
                    <div class="history-bar" id="history-safe">
                        <div class="history-label">üìú Round History</div>
                        <div class="history-bubbles" id="bubbles-safe"></div>
                    </div>
                </div>
            </div>

            <!-- Medium Lane -->
            <div class="lane" data-lane="medium">
                <div class="lane-background medium-bg"></div>
                <div class="bet-badge" id="bet-badge-medium">BET: $10</div>
                <div class="lane-content">
                    <div class="lane-header">
                        <span class="lane-label medium-label" id="lane-label-medium">üèúÔ∏è MEDIUM</span>
                        <span class="lane-info" id="lane-info-medium">Max 10x</span>
                    </div>
                    <div class="game-area" id="game-area-medium">
                        <img src="assets/plant.svg" class="plant" alt="Plant">
                        <div class="track">
                            <div class="multiplier-display">
                                <span class="multiplier" id="multiplier-medium">‚Äî</span>
                            </div>
                        </div>
                        <div class="zombie-container" id="zombie-container-medium">
                            <img src="assets/zombie.svg" class="zombie hidden" id="zombie-medium" alt="Zombie">
                            <img src="assets/explosion.svg" class="explosion" id="explosion-medium" alt="Explosion">
                        </div>
                    </div>
                    <div class="lane-status">
                        <div class="potential-win" id="potential-medium"></div>
                        <div class="bet-prompt" id="bet-prompt-medium">
                            <span class="bet-icon">üí∞</span>
                            <span>CLICK TO BET</span>
                            <span class="bet-amount-prompt">$10</span>
                        </div>
                        <button class="cashout-btn" id="cashout-btn-medium">
                            <span class="cashout-amount" id="cashout-amount-medium">$0.00</span>
                            <span class="cashout-label">CLICK TO CASH OUT</span>
                        </button>
                        <div class="no-bet-msg" id="no-bet-msg-medium">NO BET PLACED</div>
                    </div>
                    <div class="history-bar" id="history-medium">
                        <div class="history-label">üìú Round History</div>
                        <div class="history-bubbles" id="bubbles-medium"></div>
                    </div>
                </div>
            </div>

            <!-- Wild Lane -->
            <div class="lane" data-lane="wild">
                <div class="lane-background wild-bg"></div>
                <div class="bet-badge" id="bet-badge-wild">BET: $10</div>
                <div class="lane-content">
                    <div class="lane-header">
                        <span class="lane-label wild-label" id="lane-label-wild">üåô WILD</span>
                        <span class="lane-info" id="lane-info-wild">Max 50x</span>
                    </div>
                    <div class="game-area" id="game-area-wild">
                        <img src="assets/plant.svg" class="plant" alt="Plant">
                        <div class="track">
                            <div class="multiplier-display">
                                <span class="multiplier" id="multiplier-wild">‚Äî</span>
                            </div>
                        </div>
                        <div class="zombie-container" id="zombie-container-wild">
                            <img src="assets/zombie.svg" class="zombie hidden" id="zombie-wild" alt="Zombie">
                            <img src="assets/explosion.svg" class="explosion" id="explosion-wild" alt="Explosion">
                        </div>
                    </div>
                    <div class="lane-status">
                        <div class="potential-win" id="potential-wild"></div>
                        <div class="bet-prompt" id="bet-prompt-wild">
                            <span class="bet-icon">üí∞</span>
                            <span>CLICK TO BET</span>
                            <span class="bet-amount-prompt">$10</span>
                        </div>
                        <button class="cashout-btn" id="cashout-btn-wild">
                            <span class="cashout-amount" id="cashout-amount-wild">$0.00</span>
                            <span class="cashout-label">CLICK TO CASH OUT</span>
                        </button>
                        <div class="no-bet-msg" id="no-bet-msg-wild">NO BET PLACED</div>
                    </div>
                    <div class="history-bar" id="history-wild">
                        <div class="history-label">üìú Round History</div>
                        <div class="history-bubbles" id="bubbles-wild"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Game Status -->
        <div class="game-status">
            <div class="status-text" id="status-text">Click START to begin!</div>
            <div class="game-controls">
                <button class="btn-start" id="btn-start">‚ñ∂ START</button>
                <button class="btn-stop" id="btn-stop">‚èπ STOP</button>
                <button class="btn-admin" id="admin-toggle" title="Settings">‚öôÔ∏è Settings</button>
                <button class="btn-math" id="math-toggle" title="Math Verification">üìä Math</button>
                <button class="btn-feedback" id="feedback-toggle" title="Leave Feedback">üí¨ Feedback</button>
            </div>
        </div>

        <!-- Admin Panel Modal -->
        <div class="admin-overlay" id="admin-overlay">
            <div class="admin-panel">
                <div class="admin-header">
                    <h2>üîß Admin Control Panel</h2>
                    <button class="admin-close" id="admin-close">‚úï</button>
                </div>

                <div class="admin-section">
                    <h3>üé∞ Lane Configuration</h3>
                    
                    <!-- Safe Lane -->
                    <div class="admin-subsection lane-config">
                        <div class="lane-config-header">
                            <span class="lane-config-icon">üå±</span>
                            <h4>SAFE LANE</h4>
                        </div>
                        <div class="lane-config-grid">
                            <div class="config-item">
                                <label>Return to Player</label>
                                <div class="config-input-group">
                                    <input type="number" id="rtp-safe" value="95" min="50" max="99" step="0.5">
                                    <span class="input-suffix">%</span>
                                </div>
                                <span class="config-hint">Player's expected return</span>
                            </div>
                            <div class="config-item">
                                <label>House Edge</label>
                                <div class="config-display" id="edge-display-safe">5%</div>
                                <span class="config-hint">100% - RTP</span>
                            </div>
                            <div class="config-item">
                                <label>Volatility</label>
                                <div class="config-input-group">
                                    <select id="volatility-safe" class="volatility-select">
                                        <option value="2">Very Low (2x)</option>
                                        <option value="3">Low (3x)</option>
                                        <option value="4" selected>Medium-Low (4x)</option>
                                        <option value="5">Medium (5x)</option>
                                        <option value="8">Medium-High (8x)</option>
                                        <option value="10">High (10x)</option>
                                    </select>
                                </div>
                                <span class="config-hint">Max multiplier</span>
                            </div>
                        </div>
                    </div>

                    <!-- Medium Lane -->
                    <div class="admin-subsection lane-config">
                        <div class="lane-config-header">
                            <span class="lane-config-icon">üèúÔ∏è</span>
                            <h4>MEDIUM LANE</h4>
                        </div>
                        <div class="lane-config-grid">
                            <div class="config-item">
                                <label>Return to Player</label>
                                <div class="config-input-group">
                                    <input type="number" id="rtp-medium" value="95" min="50" max="99" step="0.5">
                                    <span class="input-suffix">%</span>
                                </div>
                                <span class="config-hint">Player's expected return</span>
                            </div>
                            <div class="config-item">
                                <label>House Edge</label>
                                <div class="config-display" id="edge-display-medium">5%</div>
                                <span class="config-hint">100% - RTP</span>
                            </div>
                            <div class="config-item">
                                <label>Volatility</label>
                                <div class="config-input-group">
                                    <select id="volatility-medium" class="volatility-select">
                                        <option value="5">Medium (5x)</option>
                                        <option value="8">Medium-High (8x)</option>
                                        <option value="10" selected>High (10x)</option>
                                        <option value="15">Very High (15x)</option>
                                        <option value="20">Extreme (20x)</option>
                                    </select>
                                </div>
                                <span class="config-hint">Max multiplier</span>
                            </div>
                        </div>
                    </div>

                    <!-- Wild Lane -->
                    <div class="admin-subsection lane-config">
                        <div class="lane-config-header">
                            <span class="lane-config-icon">üåô</span>
                            <h4>WILD LANE</h4>
                        </div>
                        <div class="lane-config-grid">
                            <div class="config-item">
                                <label>Return to Player</label>
                                <div class="config-input-group">
                                    <input type="number" id="rtp-wild" value="95" min="50" max="99" step="0.5">
                                    <span class="input-suffix">%</span>
                                </div>
                                <span class="config-hint">Player's expected return</span>
                            </div>
                            <div class="config-item">
                                <label>House Edge</label>
                                <div class="config-display" id="edge-display-wild">5%</div>
                                <span class="config-hint">100% - RTP</span>
                            </div>
                            <div class="config-item">
                                <label>Volatility</label>
                                <div class="config-input-group">
                                    <select id="volatility-wild" class="volatility-select">
                                        <option value="20">High (20x)</option>
                                        <option value="30">Very High (30x)</option>
                                        <option value="50" selected>Extreme (50x)</option>
                                        <option value="75">Ultra (75x)</option>
                                        <option value="100">Max (100x)</option>
                                    </select>
                                </div>
                                <span class="config-hint">Max multiplier</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="admin-section">
                    <h3>üêõ Debug Tools</h3>
                    <div class="admin-row">
                        <label>Force Next Crash Point:</label>
                        <input type="number" id="force-crash" placeholder="Leave empty for random" min="1" max="100" step="0.01">
                    </div>
                    <div class="admin-row checkbox-row">
                        <input type="checkbox" id="show-crash">
                        <label for="show-crash">Show crash point in console</label>
                    </div>
                    <div class="admin-row">
                        <button class="btn-clear-history" id="btn-clear-history">Clear All History</button>
                    </div>
                </div>

                <div class="admin-actions">
                    <button class="btn-apply" id="btn-apply">‚úì Apply Changes</button>
                </div>
            </div>
        </div>

        <!-- Win/Loss Popup -->
        <div class="result-popup" id="result-popup">
            <div class="result-content">
                <div class="result-icon" id="result-icon"></div>
                <div class="result-text" id="result-text"></div>
                <div class="result-amount" id="result-amount"></div>
            </div>
        </div>

        <!-- Feedback Modal -->
        <div class="feedback-overlay" id="feedback-overlay">
            <div class="feedback-panel">
                <div class="feedback-header">
                    <h2>üí¨ Player Feedback</h2>
                    <button class="feedback-close" id="feedback-close">‚úï</button>
                </div>

                <div class="feedback-tabs">
                    <button class="feedback-tab active" data-tab="write">‚úèÔ∏è Write Feedback</button>
                    <button class="feedback-tab" data-tab="view">üìú View All</button>
                </div>

                <!-- Write Feedback Tab -->
                <div class="feedback-content" id="feedback-write-tab">
                    <div class="feedback-form">
                        <div class="rating-section">
                            <label>Your Rating</label>
                            <div class="star-rating" id="star-rating">
                                <span class="star" data-rating="1">‚òÖ</span>
                                <span class="star" data-rating="2">‚òÖ</span>
                                <span class="star" data-rating="3">‚òÖ</span>
                                <span class="star" data-rating="4">‚òÖ</span>
                                <span class="star" data-rating="5">‚òÖ</span>
                            </div>
                            <span class="rating-text" id="rating-text">Click to rate</span>
                        </div>
                        
                        <div class="note-section">
                            <label for="feedback-note">Your Note</label>
                            <textarea id="feedback-note" placeholder="Share your thoughts about Zombie Rush..." maxlength="500"></textarea>
                            <span class="char-count"><span id="char-count">0</span>/500</span>
                        </div>

                        <div class="name-section">
                            <label for="feedback-name">Your Name (optional)</label>
                            <input type="text" id="feedback-name" placeholder="Anonymous" maxlength="30">
                        </div>

                        <button class="btn-submit-feedback" id="btn-submit-feedback">üßü Submit Feedback</button>
                    </div>
                </div>

                <!-- View Feedback Tab -->
                <div class="feedback-content hidden" id="feedback-view-tab">
                    <div class="feedback-stats" id="feedback-stats">
                        <div class="stat-item">
                            <span class="stat-value" id="total-reviews">0</span>
                            <span class="stat-label">Reviews</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="avg-rating">‚Äî</span>
                            <span class="stat-label">Avg Rating</span>
                        </div>
                    </div>
                    <div class="feedback-list" id="feedback-list">
                        <p class="no-feedback">No feedback yet. Be the first to share your thoughts!</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
